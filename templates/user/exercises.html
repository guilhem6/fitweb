<html lang="en" data-bs-theme="auto">
	<head>
		<style>
			.font-weight-bold{
				font-weight: bold;
			}

			.text-blue{
				color: darkblue;
			}

			.custom-bg-image {
				background-size: cover;
				z-index: -2;
			}

			.image-overlay {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background-color: rgba(255, 255, 255, 0.5); /* Couleur blanche semi-transparente */
				z-index: -1;
			}


		</style>
		<script src="../assets/js/color-modes.js"></script>
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<script src="../../js/utils.js"></script>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
		<meta name="generator" content="Hugo 0.112.5">
		<title>Exercices</title>

		<script>
			$(document).ready(function() {
				var settings = {
				"url": "http://project/api/exercices",
				"method": "GET",
				"timeout": 0,
				"dataType":"json",
				"headers": {
					"hash": localStorage.getItem("hash")
					},
				};

				$.ajax(settings).done(function (response) {
					var exercices = response.exercices;
					for(var i=0;i<exercices.length;i++){
					exercice = exercices[i]
					console.log(exercice);
					var codeToAdd = `
						<div class="col">
							<div class="card shadow-sm custom-bg-image" style="background-image: url('http://${exercice.image}');">
								<div class="image-overlay"></div>
								<div class="card-body">
									<p class="card-text font-weight-bold text-blue">${exercice.theme}</p>
									<p class="card-text">${exercice.title}</p>
								</div>
							</div>
						</div>
					`;
					$("#exercisesContainer").append(codeToAdd);
					}
				});
				var istrainer = localStorage.getItem("istrainer")
				if(istrainer==1){$("#addExerciseContainer").append(`<a href="exercisesadm.html" class="btn btn-primary my-2">Ajouter un exercice</a>`)}
				
			});
		</script>
	
	</head>
	<body onload="load()">
		<div id="header"></div>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
		<section class="py-5 text-center container">
			<h1 class="fw-light">Biblioth√®que d'exercices</h1>
			<p class="lead text-body-secondary">Retrouvez ici tous les exercices disponibles sur notre plateforme !</p>
			
			<!-- Ajouter l'affichage uniquement si entraineur -->
			<div id="addExerciseContainer">
			</div>
		</section>
	
		<div class="container">
			<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3" id="exercisesContainer">
			</div>
		</div>
		<div id="footer"></div>
	</body>
</html>
